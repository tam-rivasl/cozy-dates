(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{3931:(e,t,a)=>{"use strict";a.d(t,{F:()=>c,WatchlistProvider:()=>d});var s=a(5155),r=a(2115),l=a(6553),i=a(7481);let o=(0,r.createContext)(void 0),n=[{id:"w1",title:"Dune: Part Two",type:"Movie",status:"To Watch",addedBy:"Carlos",notes:"Heard the visuals are amazing."},{id:"w2",title:"ShÅgun",type:"Series",status:"To Watch",addedBy:"Tamara"},{id:"w3",title:"Past Lives",type:"Movie",status:"Watched",addedBy:"Tamara",notes:"So beautiful and sad!"}];function d(e){let{children:t}=e,[a,d]=(0,r.useState)([]),[c,h]=(0,r.useState)(!0),{user:m}=(0,l.J)(),{toast:u}=(0,i.dj)();return(0,r.useEffect)(()=>{try{let e=localStorage.getItem("cozy-watchlist");e?d(JSON.parse(e)):d(n)}catch(e){d(n)}finally{h(!1)}},[]),(0,r.useEffect)(()=>{if(!c)try{localStorage.setItem("cozy-watchlist",JSON.stringify(a))}catch(e){}},[a,c]),(0,s.jsx)(o.Provider,{value:{watchlistItems:a,isLoading:c,addWatchlistItem:e=>{if(!m)return;let t={...e,id:crypto.randomUUID(),status:"To Watch",addedBy:m};d(e=>[t,...e]),u({title:"Added to Watchlist!",description:'"'.concat(t.title,'" is ready to be watched.')})},deleteWatchlistItem:e=>{d(t=>t.filter(t=>t.id!==e)),u({title:"Item Removed",description:"The item has been removed from your watchlist.",variant:"destructive"})},markAsWatched:e=>{d(t=>t.map(t=>t.id===e&&"To Watch"===t.status?{...t,status:"Watched"}:t))}},children:t})}function c(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useWatchlist must be used within a WatchlistProvider");return e}},4303:(e,t,a)=>{"use strict";a.d(t,{TaskProvider:()=>h,s:()=>m});var s=a(5155),r=a(2115),l=a(6553),i=a(7481),o=a(3931);let n=(0,r.createContext)(void 0),d=new Date,c=[{id:"1",title:'Movie Night: "La La Land"',description:"Get popcorn, blankets, and enjoy a classic romantic movie at home.",date:new Date(d.getFullYear(),d.getMonth(),d.getDate()+3,20,30),category:"Date Night",priority:"Medium",completed:!1,createdBy:"Tamara",photos:[],notes:"Remember to buy the extra buttery popcorn!"},{id:"2",title:"Plan Summer Vacation",description:"Research destinations in Italy. Look up flights and hotels.",date:new Date(d.getFullYear(),d.getMonth(),d.getDate()+7,18,0),category:"Travel Plans",priority:"High",completed:!1,createdBy:"Carlos",photos:[],notes:"Focus on Tuscany region."},{id:"3",title:"Cook Dinner Together",description:"Try that new pasta recipe we found.",date:new Date(d.getFullYear(),d.getMonth(),d.getDate()+1,19,0),category:"To-Do",priority:"Medium",completed:!1,createdBy:"Tamara",photos:[]},{id:"4",title:"Anniversary Dinner",description:"Celebrate our 5th anniversary at the fancy restaurant downtown.",date:new Date(d.getFullYear(),d.getMonth(),d.getDate()-30,19,30),category:"Special Event",priority:"High",completed:!0,createdBy:"Carlos",photos:["https://placehold.co/600x400.png"]}];function h(e){let{children:t}=e,[a,d]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0),{user:u}=(0,l.J)(),{toast:p}=(0,i.dj)(),{markAsWatched:x}=(0,o.F)();return(0,r.useEffect)(()=>{m(!0);try{let e=localStorage.getItem("cozy-tasks");if(e){let t=JSON.parse(e).map(e=>({...e,date:new Date(e.date)}));d(t)}else d(c)}catch(e){d(c)}finally{m(!1)}},[]),(0,r.useEffect)(()=>{if(!h)try{localStorage.setItem("cozy-tasks",JSON.stringify(a))}catch(e){}},[a,h]),(0,s.jsx)(n.Provider,{value:{tasks:a,isLoading:h,addTask:e=>{if(!u)return;let t={...e,id:crypto.randomUUID(),completed:!1,createdBy:u,photos:[]};d(e=>[t,...e]),p({title:"Task Added!",description:'"'.concat(e.title,'" has been added to your list.')})},toggleComplete:e=>{let t=a.find(t=>t.id===e);t&&!t.completed&&t.watchlistItemId&&x(t.watchlistItemId),d(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},deleteTask:e=>{d(t=>t.filter(t=>t.id!==e)),p({title:"Task Removed",description:"The task has been deleted.",variant:"destructive"})},addPhoto:(e,t)=>{d(a=>{let s=a.map(a=>a.id===e?{...a,photos:[...a.photos||[],t]}:a);return p({title:"Memory Added!",description:"A new photo has been added to your plan."}),s})}},children:t})}function m(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTasks must be used within a TaskProvider");return e}},6953:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var s=a(5155),r=a(2115),l=a(4303),i=a(6553),o=a(6844),n=a(6695),d=a(5005),c=a(2543),h=a(9968),m=a(9434),u=a(285);let p=r.createContext(null);function x(){let e=r.useContext(p);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let f=r.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:l,setApi:i,plugins:o,className:n,children:c,...h}=e,[u,x]=(0,d.A)({...l,axis:"horizontal"===a?"x":"y"},o),[f,y]=r.useState(!1),[g,v]=r.useState(!1),j=r.useCallback(e=>{e&&(y(e.canScrollPrev()),v(e.canScrollNext()))},[]),N=r.useCallback(()=>{null==x||x.scrollPrev()},[x]),w=r.useCallback(()=>{null==x||x.scrollNext()},[x]),b=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[N,w]);return r.useEffect(()=>{x&&i&&i(x)},[x,i]),r.useEffect(()=>{if(x)return j(x),x.on("reInit",j),x.on("select",j),()=>{null==x||x.off("select",j)}},[x,j]),(0,s.jsx)(p.Provider,{value:{carouselRef:u,api:x,opts:l,orientation:a||((null==l?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:N,scrollNext:w,canScrollPrev:f,canScrollNext:g},children:(0,s.jsx)("div",{ref:t,onKeyDownCapture:b,className:(0,m.cn)("relative",n),role:"region","aria-roledescription":"carousel",...h,children:c})})});f.displayName="Carousel";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e,{carouselRef:l,orientation:i}=x();return(0,s.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,s.jsx)("div",{ref:t,className:(0,m.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",a),...r})})});y.displayName="CarouselContent";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e,{orientation:l}=x();return(0,s.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,m.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",a),...r})});g.displayName="CarouselItem";let v=r.forwardRef((e,t)=>{let{className:a,variant:r="outline",size:l="icon",...i}=e,{orientation:o,scrollPrev:n,canScrollPrev:d}=x();return(0,s.jsxs)(u.$,{ref:t,variant:r,size:l,className:(0,m.cn)("absolute  h-8 w-8 rounded-full","horizontal"===o?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!d,onClick:n,...i,children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});v.displayName="CarouselPrevious";let j=r.forwardRef((e,t)=>{let{className:a,variant:r="outline",size:l="icon",...i}=e,{orientation:o,scrollNext:n,canScrollNext:d}=x();return(0,s.jsxs)(u.$,{ref:t,variant:r,size:l,className:(0,m.cn)("absolute h-8 w-8 rounded-full","horizontal"===o?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!d,onClick:n,...i,children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next slide"})]})});j.displayName="CarouselNext";var N=a(3013),w=a(7223),b=a(8328),k=a(1721),C=a(1394),T=a(6766);function D(e){let{task:t,onDelete:a}=e,r="Tamara"===t.createdBy?"/img/tamara.png":"/img/carlos.png";return(0,s.jsxs)(n.Zp,{className:"overflow-hidden",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ZB,{className:"font-headline text-2xl",children:t.title}),(0,s.jsx)(n.BT,{children:t.description})]}),(0,s.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>a(t.id),"aria-label":'Delete memory "'.concat(t.title,'"'),className:"text-muted-foreground hover:text-destructive shrink-0",children:(0,s.jsx)(w.A,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-muted-foreground pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:(0,N.GP)(t.date,"PPP")})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"Idea by:"}),(0,s.jsxs)(C.eu,{className:"h-6 w-6",children:[(0,s.jsx)(C.BK,{src:r,alt:t.createdBy}),(0,s.jsx)(C.q5,{children:t.createdBy.charAt(0)})]}),(0,s.jsx)("span",{className:"font-medium",children:t.createdBy})]})]})]})]}),(0,s.jsx)(n.Wu,{children:t.photos&&t.photos.length>0?(0,s.jsxs)(f,{className:"w-full",opts:{loop:!0},children:[(0,s.jsx)(y,{className:"-ml-4",children:t.photos.map((e,t)=>(0,s.jsx)(g,{className:"pl-4 md:basis-1/2 lg:basis-1/3",children:(0,s.jsx)("div",{className:"relative aspect-video",children:(0,s.jsx)(T.default,{src:e,alt:"Memory photo ".concat(t+1),fill:!0,className:"rounded-lg object-contain"})})},t))}),t.photos.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{className:"absolute left-2"}),(0,s.jsx)(j,{className:"absolute right-2"})]})]}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No photos for this memory yet."})})]})}var S=a(172),P=a(8106),A=a(5695);function I(){let{user:e,isLoading:t}=(0,i.J)(),{tasks:a,isLoading:n,deleteTask:d}=(0,l.s)(),c=(0,A.useRouter)();(0,r.useEffect)(()=>{t||e||c.push("/")},[e,t,c]);let h=(0,r.useMemo)(()=>a.filter(e=>e.completed&&e.photos&&e.photos.length>0).sort((e,t)=>t.date.getTime()-e.date.getTime()),[a]);return t||n||!e?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsx)(S.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-background",children:[(0,s.jsx)(o.Y,{}),(0,s.jsxs)("main",{className:"flex-1 p-4 md:p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsx)(P.A,{className:"h-10 w-10 text-primary"}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-headline",children:"Our Sweet Memories"})]}),h.length>0?(0,s.jsx)("div",{className:"space-y-8",children:h.map(e=>(0,s.jsx)(D,{task:e,onDelete:d},e.id))}):(0,s.jsxs)("div",{className:"text-center py-20 px-6 bg-card rounded-lg shadow-sm mt-8",children:[(0,s.jsx)(P.A,{className:"mx-auto h-16 w-16 text-muted-foreground"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground text-lg",children:"No memories with photos yet."}),(0,s.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Complete a plan and add some photos to see them here!"})]})]})]})}},7177:(e,t,a)=>{Promise.resolve().then(a.bind(a,6953))}},e=>{var t=t=>e(e.s=t);e.O(0,[35,175,949,13,567,458,802,441,684,358],()=>t(7177)),_N_E=e.O()}]);