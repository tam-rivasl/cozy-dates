(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{8249:(e,s,t)=>{Promise.resolve().then(t.bind(t,8900))},8900:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ey});var a=t(5155),r=t(2115),l=t(6553),n=t(5695),i=t(3931),d=t(4303),c=t(6844),o=t(285),m=t(2177),h=t(221),x=t(5594),u=t(4165),p=t(5937),j=t(2523),f=t(8539),y=t(5185),v=t(6101),g=t(6081),N=t(3540),w=t(9196),b=t(5845),k=t(4315),C=t(1275),R=t(5503),A=t(8905),M="Radio",[I,E]=(0,g.A)(M),[T,L]=I(M),O=r.forwardRef((e,s)=>{let{__scopeRadio:t,name:l,checked:n=!1,required:i,disabled:d,value:c="on",onCheck:o,form:m,...h}=e,[x,u]=r.useState(null),p=(0,v.s)(s,e=>u(e)),j=r.useRef(!1),f=!x||m||!!x.closest("form");return(0,a.jsxs)(T,{scope:t,checked:n,disabled:d,children:[(0,a.jsx)(N.sG.button,{type:"button",role:"radio","aria-checked":n,"data-state":S(n),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:p,onClick:(0,y.m)(e.onClick,e=>{n||null==o||o(),f&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),f&&(0,a.jsx)(D,{control:x,bubbles:!j.current,name:l,value:c,checked:n,required:i,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});O.displayName=M;var W="RadioIndicator",B=r.forwardRef((e,s)=>{let{__scopeRadio:t,forceMount:r,...l}=e,n=L(W,t);return(0,a.jsx)(A.C,{present:r||n.checked,children:(0,a.jsx)(N.sG.span,{"data-state":S(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:s})})});B.displayName=W;var D=e=>{let{control:s,checked:t,bubbles:l=!0,...n}=e,i=r.useRef(null),d=(0,R.Z)(t),c=(0,C.X)(s);return r.useEffect(()=>{let e=i.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==t&&s){let a=new Event("click",{bubbles:l});s.call(e,t),e.dispatchEvent(a)}},[d,t,l]),(0,a.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function S(e){return e?"checked":"unchecked"}var z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G="RadioGroup",[P,V]=(0,g.A)(G,[w.RG,E]),q=(0,w.RG)(),_=E(),[J,Z]=P(G),$=r.forwardRef((e,s)=>{let{__scopeRadioGroup:t,name:r,defaultValue:l,value:n,required:i=!1,disabled:d=!1,orientation:c,dir:o,loop:m=!0,onValueChange:h,...x}=e,u=q(t),p=(0,k.jH)(o),[j,f]=(0,b.i)({prop:n,defaultProp:l,onChange:h});return(0,a.jsx)(J,{scope:t,name:r,required:i,disabled:d,value:j,onValueChange:f,children:(0,a.jsx)(w.bL,{asChild:!0,...u,orientation:c,dir:p,loop:m,children:(0,a.jsx)(N.sG.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":d?"":void 0,dir:p,...x,ref:s})})})});$.displayName=G;var H="RadioGroupItem",F=r.forwardRef((e,s)=>{let{__scopeRadioGroup:t,disabled:l,...n}=e,i=Z(H,t),d=i.disabled||l,c=q(t),o=_(t),m=r.useRef(null),h=(0,v.s)(s,m),x=i.value===n.value,u=r.useRef(!1);return r.useEffect(()=>{let e=e=>{z.includes(e.key)&&(u.current=!0)},s=()=>u.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,a.jsx)(w.q7,{asChild:!0,...c,focusable:!d,active:x,children:(0,a.jsx)(O,{disabled:d,required:i.required,checked:x,...o,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:(0,y.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,y.m)(n.onFocus,()=>{var e;u.current&&(null==(e=m.current)||e.click())})})})});F.displayName=H;var K=r.forwardRef((e,s)=>{let{__scopeRadioGroup:t,...r}=e,l=_(t);return(0,a.jsx)(B,{...l,...r,ref:s})});K.displayName="RadioGroupIndicator";var X=t(154),Y=t(9434);let U=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)($,{className:(0,Y.cn)("grid gap-2",t),...r,ref:s})});U.displayName=$.displayName;let Q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(F,{ref:s,className:(0,Y.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(K,{className:"flex items-center justify-center",children:(0,a.jsx)(X.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});Q.displayName=F.displayName;let ee=x.z.object({title:x.z.string().min(1,"Title is required").max(100,"Title is too long"),type:x.z.enum(["Movie","Series"],{required_error:"You need to select a type."}),notes:x.z.string().max(500,"Notes are too long").optional()});function es(e){let{isOpen:s,onOpenChange:t,onAddItem:r}=e,l=(0,m.mN)({resolver:(0,h.u)(ee),defaultValues:{title:"",type:"Movie",notes:""}});return(0,a.jsx)(u.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(u.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Add to Watchlist"}),(0,a.jsx)(u.rr,{children:"What movie or series should we watch next?"})]}),(0,a.jsx)(p.lV,{...l,children:(0,a.jsxs)("form",{onSubmit:l.handleSubmit(e=>{r(e),l.reset(),t(!1)}),className:"space-y-4",children:[(0,a.jsx)(p.zB,{control:l.control,name:"title",render:e=>{let{field:s}=e;return(0,a.jsxs)(p.eI,{children:[(0,a.jsx)(p.lR,{children:"Title"}),(0,a.jsx)(p.MJ,{children:(0,a.jsx)(j.p,{placeholder:"e.g., The Bear",...s})}),(0,a.jsx)(p.C5,{})]})}}),(0,a.jsx)(p.zB,{control:l.control,name:"type",render:e=>{let{field:s}=e;return(0,a.jsxs)(p.eI,{className:"space-y-3",children:[(0,a.jsx)(p.lR,{children:"Type"}),(0,a.jsx)(p.MJ,{children:(0,a.jsxs)(U,{onValueChange:s.onChange,defaultValue:s.value,className:"flex space-x-4",children:[(0,a.jsxs)(p.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,a.jsx)(p.MJ,{children:(0,a.jsx)(Q,{value:"Movie"})}),(0,a.jsx)(p.lR,{className:"font-normal",children:"Movie"})]}),(0,a.jsxs)(p.eI,{className:"flex items-center space-x-2 space-y-0",children:[(0,a.jsx)(p.MJ,{children:(0,a.jsx)(Q,{value:"Series"})}),(0,a.jsx)(p.lR,{className:"font-normal",children:"Series"})]})]})}),(0,a.jsx)(p.C5,{})]})}}),(0,a.jsx)(p.zB,{control:l.control,name:"notes",render:e=>{let{field:s}=e;return(0,a.jsxs)(p.eI,{children:[(0,a.jsx)(p.lR,{children:"Notes (Optional)"}),(0,a.jsx)(p.MJ,{children:(0,a.jsx)(f.T,{placeholder:"e.g., I heard this one is really good!",...s})}),(0,a.jsx)(p.C5,{})]})}}),(0,a.jsxs)(u.Es,{className:"pt-4",children:[(0,a.jsx)(o.$,{type:"button",variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),(0,a.jsx)(o.$,{type:"submit",children:"Add Item"})]})]})})]})})}var et=t(6695),ea=t(6126),er=t(1394),el=t(7223),en=t(157);let ei=(0,en.A)("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]),ed=(0,en.A)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);var ec=t(1721),eo=t(4504);let em=(0,en.A)("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);function eh(e){let{item:s,onDelete:t,onPlanMovieNight:r}=e,l="Tamara"===s.addedBy?"/img/tamara.png":"/img/carlos.png",n="Watched"===s.status;return(0,a.jsxs)(et.Zp,{className:"transition-all duration-300 ".concat(n?"bg-card/60":"bg-card"),children:[(0,a.jsx)(et.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsx)(et.ZB,{className:"text-xl font-headline ".concat(n?"line-through text-muted-foreground":""),children:s.title})}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>t(s.id),"aria-label":'Delete item "'.concat(s.title,'"'),className:"text-muted-foreground hover:text-destructive shrink-0",children:(0,a.jsx)(el.A,{className:"h-5 w-5"})})]})}),(0,a.jsxs)(et.Wu,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center",children:["Movie"===s.type?(0,a.jsx)(ei,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(ed,{className:"mr-2 h-4 w-4"}),(0,a.jsx)(ea.E,{variant:"secondary",children:s.type})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(ec.A,{className:"mr-2 h-4 w-4"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Added by:"}),(0,a.jsxs)(er.eu,{className:"h-6 w-6",children:[(0,a.jsx)(er.BK,{src:l,alt:s.addedBy}),(0,a.jsx)(er.q5,{children:s.addedBy.charAt(0)})]}),(0,a.jsx)("span",{className:"font-medium",children:s.addedBy})]})]})]}),s.notes&&(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsxs)("h4",{className:"flex items-center text-sm font-medium mb-1",children:[(0,a.jsx)(eo.A,{className:"mr-2 h-4 w-4 text-primary/80"}),"Notes"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap pl-6",children:s.notes})]}),"To Watch"===s.status&&(0,a.jsx)("div",{className:"pt-3 mt-3 border-t",children:(0,a.jsxs)(o.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r(s),children:[(0,a.jsx)(em,{className:"mr-2 h-4 w-4"}),"Plan Movie Night"]})})]})]})}var ex=t(172),eu=t(3768),ep=t(4301);let ej=(0,en.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var ef=t(1880);function ey(){let{user:e,isLoading:s}=(0,l.J)(),{watchlistItems:t,isLoading:m,addWatchlistItem:h,deleteWatchlistItem:x}=(0,i.F)(),{addTask:u}=(0,d.s)(),p=(0,n.useRouter)(),[j,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[g,N]=(0,r.useState)();(0,r.useEffect)(()=>{s||e||p.push("/")},[e,s,p]);let w=e=>{N({title:e.title,description:"Dia de pelis",notes:e.notes,category:"Movie Day",watchlistItemId:e.id}),v(!0)},{toWatchItems:b,watchedItems:k}=(0,r.useMemo)(()=>({toWatchItems:t.filter(e=>"To Watch"===e.status),watchedItems:t.filter(e=>"Watched"===e.status)}),[t]);return s||m||!e?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,a.jsx)(ex.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-background",children:[(0,a.jsx)(c.Y,{}),(0,a.jsxs)("main",{className:"flex-1 p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4 mb-6 sm:flex-row sm:justify-between sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(eu.A,{className:"h-10 w-10 text-primary"}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-headline",children:"Our Watchlist"})]}),(0,a.jsxs)(o.$,{onClick:()=>f(!0),children:[(0,a.jsx)(ep.A,{className:"mr-2"}),"Add Item"]})]}),(0,a.jsx)(es,{isOpen:j,onOpenChange:f,onAddItem:h}),(0,a.jsx)(ef.r,{isOpen:y,onOpenChange:v,onAddTask:u,initialData:g}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-headline text-primary",children:"To Watch"}),b.length>0?(0,a.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,a.jsx)(eh,{item:e,onDelete:x,onPlanMovieNight:w},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12 px-6 bg-card rounded-lg shadow-sm",children:[(0,a.jsx)(ej,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Nothing to watch yet. Add a movie or series!"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-headline text-primary/80",children:"Watched"}),k.length>0?(0,a.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,a.jsx)(eh,{item:e,onDelete:x,onPlanMovieNight:w},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12 px-6 bg-card rounded-lg shadow-sm",children:[(0,a.jsx)(ej,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,a.jsx)("p",{className:"mt-4 text-muted-foreground",children:"No movies or series watched yet."})]})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[35,175,949,77,13,702,802,427,441,684,358],()=>s(8249)),_N_E=e.O()}]);